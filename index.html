<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Noctis Flow</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="h-screen antialiased bg-gray-50 text-gray-800" data-theme="light">
  <div class="flex h-screen">
    <!-- Sidebar -->
    <aside class="w-72 bg-white border-r p-4 flex flex-col gap-4">
      <div class="flex items-center gap-3">
        <div class="h-10 w-10 bg-indigo-600 rounded flex items-center justify-center text-white font-bold">NF</div>
        <div>
          <div class="font-semibold">Noctis Flow</div>
          <div class="text-xs text-gray-500">by NoctisLegal</div>
        </div>
      </div>

      <nav class="flex-1">
        <ul class="space-y-1">
          <li>
            <button class="w-full text-left px-3 py-2 rounded" data-nav="dashboard">
              Dashboard
            </button>
          </li>
          <li>
            <button class="w-full text-left px-3 py-2 rounded active" data-nav="documents">
              Documents
            </button>
          </li>
          <li>
            <button class="w-full text-left px-3 py-2 rounded" data-nav="clients">
              Clients
            </button>
          </li>
          <li>
            <button class="w-full text-left px-3 py-2 rounded" data-nav="templates">
              Templates
            </button>
          </li>
          <li>
            <button class="w-full text-left px-3 py-2 rounded" data-nav="settings">
              Settings
            </button>
          </li>
        </ul>
      </nav>

      <div>
        <button id="newDocBtn" class="w-full bg-indigo-600 text-white py-2 rounded">+ New Document</button>
      </div>

      <div class="text-xs text-gray-500">Local demo — data stored in browser only.</div>
    </aside>

    <!-- Main -->
    <main class="flex-1 flex flex-col">
      <!-- Top bar -->
      <header class="flex items-center justify-between p-4 border-b bg-white">
        <div class="flex items-center gap-3">
          <input id="globalSearch" type="search" placeholder="Search documents, clients, templates..." class="border rounded px-3 py-2 w-96" />
          <div class="text-sm text-gray-500">Autosave • Templates • Local demo</div>
        </div>
        <div class="flex items-center gap-3">
          <button id="themeToggle" class="px-3 py-2 border rounded text-sm">Toggle theme</button>
          <div class="text-sm text-gray-600">You (solo)</div>
        </div>
      </header>

      <div class="flex-1 overflow-hidden">
        <div class="grid grid-cols-3 h-full">
          <!-- Left column -->
          <section id="leftCol" class="col-span-1 border-r bg-gray-50 p-4 overflow-auto">
            <div id="leftContent">
              <!-- Dashboard view -->
              <div id="dashboardView" class="hidden h-full flex flex-col gap-4 p-4 overflow-auto">
                <!-- Checklist -->
<div class="bg-white border rounded p-4">
  <h3 class="font-semibold mb-2">Checklist</h3>

  <!-- Add new item -->
  <div class="flex gap-2 mb-3">
    <input id="newChecklistItem" type="text" placeholder="New task..." class="flex-1 border rounded px-2 py-1 text-sm" />
    <button id="addChecklistBtn" class="px-3 py-1 bg-indigo-600 text-white rounded text-sm">Add</button>
  </div>

  <!-- List -->
  <ul id="checklist" class="space-y-2">
    <li class="flex items-center gap-2">
      <input type="checkbox" />
      <span>Review contracts</span>
      <button class="ml-auto text-xs text-red-600 remove-btn">✕</button>
    </li>
    <li class="flex items-center gap-2">
      <input type="checkbox" />
      <span>Call client</span>
      <button class="ml-auto text-xs text-red-600 remove-btn">✕</button>
    </li>
    <li class="flex items-center gap-2">
      <input type="checkbox" />
      <span>Update template</span>
      <button class="ml-auto text-xs text-red-600 remove-btn">✕</button>
    </li>
  </ul>
</div>
                <!-- AI Assistant -->
                <div class="bg-white border rounded p-4 flex flex-col h-64">
                  <h3 class="font-semibold mb-2">AI Assistant</h3>
                  <div id="assistantOutput" class="flex-1 overflow-auto text-sm mb-2 p-2 border rounded bg-gray-50"></div>
                  <div class="flex gap-2">
                    <input id="assistantInput" class="flex-1 border rounded px-2 py-1 text-sm" placeholder="Ask me anything..." />
                    <button id="askAssistantBtn" class="px-3 py-1 bg-indigo-600 text-white rounded text-sm">Ask</button>
                  </div>
                </div>

                <!-- Recently opened + Bar chart -->
                <!-- Recently opened + Activity chart -->
<div class="grid grid-cols-2 gap-4">
  <div class="bg-white border rounded p-4">
    <h3 class="font-semibold mb-2">Recently Opened</h3>
    <ul id="recentlyOpened" class="space-y-1 text-sm text-gray-600">
      <li>Contract_ABC.txt</li>
      <li>NDA_ClientY.md</li>
      <li>Template_Employment.docx</li>
    </ul>
  </div>

  <div class="bg-white border rounded p-4">
    <h3 class="font-semibold mb-2">Activity</h3>
    <!-- Keep the textual log if you want -->
    <ul id="activityLog" class="text-sm text-gray-700 max-h-32 overflow-y-auto mb-2"></ul>
    <!-- Chart -->
    <canvas id="activityChart" class="w-full h-40"></canvas>
  </div>
</div>
              </div>

              <!-- Documents view -->
              <div id="documentsView">
                <div class="flex items-center justify-between mb-3">
                  <h3 class="font-semibold">Documents</h3>
                  <div class="text-xs text-gray-500">Click a document to open</div>
                </div>
                <ul id="docsList" class="space-y-2"></ul>
              </div>

              <!-- Clients view -->
              <div id="clientsView" class="hidden">
                <div class="flex items-center justify-between mb-3">
                  <h3 class="font-semibold">Clients</h3>
                  <button id="addClientBtn" class="text-sm px-2 py-1 border rounded">+ Client</button>
                </div>
                <ul id="clientsList" class="space-y-2"></ul>
                <div id="clientDetails" class="mt-4 p-4 border rounded bg-white hidden">
                    <!--Client Details-->
  <h4 class="font-semibold text-lg">Client Details</h4>
  <p><strong>Name:</strong> <span id="detailName"></span></p>
  <p><strong>Email:</strong> <span id="detailEmail"></span></p>
  <p><strong>Notes:</strong></p>
  <p id="detailNotes" class="text-sm text-gray-700"></p>
</div>

              </div>

              <!-- Templates view -->
              <div id="templatesView" class="hidden">
                <div class="flex items-center justify-between mb-3">
                  <h3 class="font-semibold">Templates</h3>
                  <button id="newTemplateBtn" class="text-sm px-2 py-1 border rounded">+ Template</button>
                </div>
                <ul id="templatesList" class="space-y-2"></ul>
              </div>

              <!-- Settings view -->
              <div id="settingsView" class="hidden">
                <h3 class="font-semibold mb-2">Settings</h3>
                <div class="text-sm text-gray-600">Data is saved locally to your browser (localStorage). Connect a backend to persist remotely.</div>
                <div class="mt-3">
                  <label class="flex items-center gap-2"><input id="toggleDisclaimers" type="checkbox" checked /> Add "Not legal advice" disclaimers by default</label>
                </div>
              </div>
            </div>
          </section>

          <!-- Editor / Preview -->
          <section class="col-span-2 p-4 flex flex-col gap-4">
            <div class="flex gap-4">
              <div class="flex-1">
                <div class="flex items-center gap-3">
                  <input id="docTitle" placeholder="Untitled document" class="text-x font-semibold w-full border-b focus:outline-none"/>
                  <select id="clientSelector" class="border rounded px-2 py-1 text-sm">
                    <option value="">No client</option>
                  </select>
                </div>
                <div class="mt-3 grid grid-cols-2 gap-4">
                  <div>
                    <label class="text-sm text-gray-600">Template</label>
                    <select id="applyTemplate" class="w-full border rounded px-2 py-2">
                      <option value="">— select template —</option>
                    </select>
                  </div>
                  <div>
                    <label class="text-sm text-gray-600">Tags (comma separated)</label>
                    <input id="docTags" class="w-full border rounded px-2 py-2" placeholder="contract, nda" />
                  </div>
                </div>

                <div class="mt-4 flex gap-3">
                  <button id="saveDoc" class="px-3 py-2 bg-indigo-600 text-white rounded">Save</button>
                  <button id="previewBtn" class="px-3 py-2 border rounded">Preview</button>
                  <button id="downloadBtn" class="px-3 py-2 border rounded">Download .txt</button>
                  <button id="clearBtn" class="px-3 py-2 border rounded text-red-600">Clear</button>
                </div>

                <div class="mt-4">
                  <label class="text-sm text-gray-600">Document editor (Markdown / plain text)</label>
                  <textarea id="editor" class="w-full h-64 border rounded p-3 resizable font-mono text-sm" placeholder="Write your document here..."></textarea>
                </div>
              </div>

              <div id="billingPanel" class="p-4 bg-gray-50 border rounded mt-4">
                <h4 class="font-semibold mb-2">Billing Tracker</h4>
                <ul id="billingList" class="text-sm space-y-1"></ul>
                <button id="exportBillingBtn" class="mt-2 px-3 py-1 border rounded text-sm">Export CSV</button>
              </div>

              <div class="w-96 border rounded p-3 overflow-auto bg-white">
                <h4 class="font-semibold">Preview</h4>
                <div id="previewPane" class="mt-3 prose max-w-none"></div>

                <hr class="my-3">
                <h5 class="font-semibold text-sm">Document metadata</h5>
                <div id="metaPane" class="text-sm text-gray-600 mt-2"></div>

                <hr class="my-3">
                <h5 class="font-semibold text-sm">Activity</h5>
                <ul id="activityLog" class="text-xs text-gray-600 mt-2 space-y-1"></ul>
              </div>
            </div>
            <div class="mt-auto text-xs text-gray-500"> Ver 1.</div>
          </section>
        </div>
      </div>
    </main>
  </div>

  <!-- Template Modal -->
  <div id="templateModal" class="fixed inset-0 bg-black/40 hidden items-center justify-center p-4">
    <div class="bg-white rounded w-full max-w-2xl p-4">
      <div class="flex items-center justify-between">
        <h3 class="font-semibold">Template editor</h3>
        <button id="closeTemplateModal" class="text-gray-600">✕</button>
      </div>
      <div class="mt-3 grid grid-cols-2 gap-4">
        <div>
          <label class="text-sm">Template name</label>
          <input id="templateName" class="w-full border rounded px-2 py-2" />
        </div>
        <div>
          <label class="text-sm">Tags (comma)</label>
          <input id="templateTags" class="w-full border rounded px-2 py-2" />
        </div>
      </div>
      <div class="mt-3">
        <label class="text-sm">Content (use placeholders like {{client_name}}, {{date}})</label>
        <textarea id="templateContent" class="w-full h-48 border rounded p-2 font-mono"></textarea>
      </div>
      <div class="mt-3 flex justify-end gap-2">
        <button id="saveTemplateBtn" class="px-3 py-2 bg-indigo-600 text-white rounded">Save template</button>
        <button id="cancelTemplateBtn" class="px-3 py-2 border rounded">Cancel</button>
      </div>
    </div>
  </div>
  <script src="app.js"></script>
</body>
</html>
